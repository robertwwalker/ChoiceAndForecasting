{
  "hash": "a994a2246bcecf8beaa11176a2f295bf",
  "result": {
    "markdown": "---\ntitle: \"Week 10: Finishing Features, the Toolbox and Evaluation\"\nauthor: \"Robert W. Walker\"\ndate: \"2022-11-07\"\ncategories: [R]\nimage: \"image.png\"\ntoc: true\nexecute: \n  echo: fenced\n---\n\n\nThe slides [are here.](https://robertwwalker.github.io/xaringan/CMF-Week-10/index.html).\n\nOur tenth class meeting will focus on [Chapter 5](https://otexts.com/fpp3/toolbox.html) and [Chapter 6](https://otexts.com/fpp3/judgmental.html)  of __Forecasting: Principles and Practice [3rd edition]__. \n\n\n\n\n\n\nAll of the data for today and for last time, including computations, can be acquired using \n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nload(url(\"https://github.com/robertwwalker/xaringan/raw/master/CMF-Week-9/data/FullWorkspace.RData\"))\n```\n````\n:::\n\n\nand\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nload(url(\"https://github.com/robertwwalker/ChoiceAndForecasting/raw/main/posts/week-10/data/Week-10.RData\"))\n```\n````\n:::\n\n\n# Inflation Expectations\n\nThe Federal Reserve Bank of New York collects data on inflation expectations that are interesting to examine.  As a part of the Survey of Consumer Expectations, these highlight consumers expected levels of inflation though the five-year expectations have only become a part of the series for 2022, [more about this here that includes a bit of summary on the data](https://libertystreeteconomics.newyorkfed.org/2022/10/new-sce-charts-include-a-measure-of-longer-term-inflation-expectations/).  While consumers are probably not experts, it is important to note how expectations are anchored and also that question wording seems to matter, see [de Bruin and van der Klaauw 2012](https://www.researchgate.net/publication/236941711_The_effect_of_question_wording_on_reported_inflation_expectations).\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nlibrary(tidyverse)\nlibrary(lubridate); library(tsibble)\nlibrary(readxl)\nurl <- \"https://www.newyorkfed.org/medialibrary/interactives/sce/sce/downloads/data/frbny-sce-data.xls\"\ndestfile <- \"frbny_sce_data.xls\"\ncurl::curl_download(url, destfile)\nInflation.Expectations <- read_excel(destfile, sheet=4, skip=3) %>%\n  rename(date = 1) %>% \n  mutate(date = yearmonth(parse_date_time(date, orders = \"%Y%m\")))\n```\n````\n:::\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nlibrary(fpp3)\nInflation.Expectations %>% \n  as_tsibble(index=date) %>% \n  autoplot(`Median three-year ahead expected inflation rate`) + \n  geom_line(aes(y=Inflation.Expectations$`Median one-year ahead expected inflation rate`, color=\"red\")) +\n  hrbrthemes::theme_ipsum() + guides(color = \"none\") + labs(y=\"Median Inflation Expectations: 1 year (red) and 3 year (black)\")\n```\n````\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nA nicer plot.\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nInflation.Expectations %>% \n  select(1:3) %>% \n  pivot_longer(c(2:3)) %>%\n  mutate(Variable = name) %>%\n  ggplot(aes(x=date, y=value, color=Variable)) +\n  geom_line(size=2) +\n  scale_color_viridis_d(option=\"C\") +\n  hrbrthemes::theme_ipsum_rc() +\n  theme(legend.position = \"bottom\") +\n  labs(y=\"Inflation Expectations\", \n       color=\"\",\n       title=\"New York Fed Inflation Expectations\",\n       caption = \"data: https://www.newyorkfed.org/medialibrary/interactives/sce/sce/downloads/data/frbny-sce-data.xlsx\")\n```\n````\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Decompositions\n\n### Classical Decomposition\n\nThe key difference between the two decompositions, and there are others, is the existence [or lack thereof] of a window.  In the classical decomposition, there is almost no flexibility.  The flexibility is defined by the `Specials`.  In this case, there is only one and it is the seasonal period [so there are basically none].\n\n![Specials for classical_decomposition](./img/Specials.png)\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nInflation.Expectations %>% \n  as_tsibble(index=date) %>% \n  model(stl = classical_decomposition(`Median one-year ahead expected inflation rate` ~ season(12))) %>%\n  components() %>% \n  autoplot()\n```\n````\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n### STL Decomposition\n\nThe key new element to the STL decomposition is the `window` argument.  Over how many time periods should the trend/season be calculated.  If one wishes to average over all periods, `window=\"periodic\"` is the necessary syntax.  For the STL decomposition, there are quite a few.\n\n![STL Specials](./img/STLSpecials.png)\n\nSeason and trend are fairly intuitive.  The lowpass filter, less so.  First, the subseries is the individual seasonal period; in this case, there are 12 subseries because we have monthly data.\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nInflation.Expectations %>% \n  as_tsibble(index=date) %>% \n  model(STL(`Median one-year ahead expected inflation rate` ~ season(12, window = \"periodic\"))) %>%\n  components() %>% \n  autoplot()\n```\n````\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n## Principal Components\n\nOne way of deploying the full set of features is to utilize principal components on them to determine which series are most alike in relation to the others.  Let's try this with the employment data.  \n\nFirst, let me take the version of the updated employment data and subject them to the full set of features.\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nemployment_features <- US.Employment.T %>%\n  features(Employed, feature_set(pkgs = \"feasts\"))\n```\n````\n:::\n\n\nNext, I want to take the features and subject them to principal components.  There is one issue in doing this, to scale them, we will need to find the column(s) that have no implicit variation.  Though there are 49 columns to the features, there are only 43 remaining columns after removing those with no variation.  The `apply` part goes through and omits columns with zero variance.  The `2` applies the function to columns and only keeps those with non-zero variance.\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n# Clean up\nEF <- employment_features %>% select(-Title) %>% .[,apply(., 2, var, na.rm=TRUE) != 0]\nncol(employment_features)\nncol(EF)\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 49\n[1] 43\n```\n:::\n:::\n\n\nNow to the scaling.\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nlibrary(broom)\npcs <- EF %>%\n  prcomp(scale=TRUE) %>%\n  augment(EF)\npcs$Title <- employment_features$Title\n```\n````\n:::\n\n\nThen I want to plot them.  Unlike the example in the text, these do not have numerous categorical identifiers, I will use a plotly to get the titles of the series as the identifier to explore.\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nplot1 <- pcs %>%\n  ggplot(aes(x = .fittedPC1, y = .fittedPC2, label = Title)) +\n  geom_point() +\n  theme_minimal()\nlibrary(plotly)\nggplotly(plot1)\n```\n````\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-a1a27a94538abd212415\" style=\"width:100%;height:464px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a1a27a94538abd212415\">{\"x\":{\"data\":[{\"x\":[-1.05929088117271,10.2777222582892,1.93465822500204,-2.51279094267803,-6.98429461597502,-3.97562430241724,-4.81037436832812,-2.05934539683788,-2.87929427537183,-0.442441232329552,-0.486308411925666,1.39542735319808,0.819850419235657,1.21054612524267,1.08303473729441,-1.12835190121644,-0.406445191035359,1.0401513779777,0.520405168103449,-0.296329410648797,-0.564015261934447,1.20261445294144,0.879568201892272,-0.165295102729087,0.0447444987792681,7.48939875158273,1.84058246090865,0.70531785418456,-1.04783203791804,1.7480413143666,1.93892947663956,2.06118933322825,1.39787387618732,0.518352474367405,-0.463563459473055,3.07442720926743,2.43682956775824,2.04707975302099,5.03186808299269,-4.51165169909286,-0.106383736358236,-3.54183612489689,0.0636380575316856,0.556905880228035,-0.356559563685609,0.0622307194514153,-0.264786040095501,-0.909861391489955,-1.83708543750557,0.519144151381495,0.153571408441778,3.05276124818336,-1.86638560203441,-2.02807059709671,2.15338306229927,1.37564685806796,1.76716401962311,2.26766799819476,1.61368383380768,1.4057334985293,-3.88930306466496,4.00003145905931,0.564711445017779,0.478576167972986,-3.63792378848725,2.03850920106739,1.00271092862104,0.900779548460122,6.38354428422781,-0.117401503063162,0.139377011958889,-5.29432543988767,-4.67964336172744,0.549836600058581,-1.44307771577163,-4.07575630280092,0.448046002552548,-0.296917992020753,1.03441751922518,-4.18730164217835,0.10928839687502,-1.67260689553553,0.109016089023993,0.363355107839571,0.443763682871624,0.922774919330856,1.55421038909104,0.888706313591425,-5.34981693592635,-0.325473885406505,1.55653588330336,-1.17508975470451,0.816695681805741,1.85315816537458,2.25211652099687,1.60221577209859,6.40662337117536,-0.168370861692875,-6.09873538148341,0.24866185534876,10.0375511323479,6.86813889130784,-4.3949614990246,-0.632497838705868,-0.563372572890376,0.0579022015549081,0.128619491688095,1.38725826831164,0.0446356079652155,-0.452682708820353,1.96853708275449,1.21628019064044,1.42008554635224,-2.23315803253485,0.262541648405093,4.45999770165008,2.21503215591911,-2.09490913449943,-11.2482867495558,-5.45326189969143,-2.39169051846491,-1.80135483455051,-3.51597230533576,-1.89694636529609,-4.14204473287863,0.0190970556646352,-2.61366375811011,-0.0230369651665252,-2.23223683685872,-6.50349372432057,9.69471897608941,4.54304302402247,2.23698155718038,-1.32783204852786,-2.21511117946175,0.271935900745405,3.79020063259252,-7.85842728694954,1.15679773338967,-4.54904099583227,-1.31912349791178,2.23354410993924,-2.27814859606369,0.146228449777187,4.32460030639629,-1.22459732653608,1.60090760011499,-2.36062837237134],\"y\":[-0.804268094483503,7.15781778901833,5.34054916117136,0.737487982060271,5.86054592994276,1.31498356204153,0.808142349453764,0.847403347071225,0.139093978583926,2.10294843890922,-2.00734453925226,-2.9713952678957,-2.37811804496592,-3.04025623684032,-2.78902791460665,-2.39241336934098,-2.67029322152189,-2.56201694251689,-2.7652976045385,-2.02988179331546,2.18710840058983,-2.87249099521893,-2.30680064126893,-2.04822506301587,-0.895130062672673,2.87598978035746,-2.32382667394795,0.445397441691467,3.57639008995804,-2.20434623024707,-2.23975276628357,-2.35830550427815,-1.79879668806335,-1.56582334040888,-1.4553378959115,-1.31388190828513,-3.45696687259858,-1.93362265102757,3.08099593779067,-0.105249065779867,-1.71810734931442,-1.00624575753767,-1.22420925719823,-3.2283219120677,-2.64196468755166,-2.221219569446,-0.390850434372591,-0.346962695426442,-0.724822902472978,-2.17726285796888,2.30696427588345,5.08396715987796,0.0844083911900072,-1.71318153927769,4.33520487697147,6.35175373276354,3.58670489341462,5.18313445147057,6.84521752803874,1.68734730396063,5.00931437447846,0.464873861360006,-3.32007877739686,-2.63608088449829,-1.55023267489712,-3.02485400549004,-2.33641621943491,-3.06898694158582,2.86054479690891,1.79940543699517,-0.60008774096781,3.20718278023713,2.72762302451162,-0.97492191148431,1.0876606298831,0.742610100844015,-2.12306333428641,-0.446723366446506,-3.28219521862363,2.67951047821939,-1.65876210838152,0.107264362653787,-1.46247411754575,-1.45738233722082,-1.99304105702843,0.301964811854409,-1.01605593831334,-1.7032609242963,2.14143447580178,-0.821879369118414,-1.6705422834291,0.817445362826599,-2.61547476629734,-2.71858759267302,-2.84442223976388,-2.48292354134911,1.65198224080963,-0.365102903257685,-0.0655482329913079,-2.23398510269644,5.4443171332359,2.89240433673027,2.81421247431818,-0.0211775090657102,-0.0443080968392071,-0.346773743343426,-0.77591457983981,-2.12613837927086,-0.510819475574516,0.106195564790687,-2.00393409054944,-1.27492530654727,-1.1024520694861,3.3305750008991,-0.357692462037485,3.68090782811882,-1.4844065316583,2.22817665724074,2.76735857351051,3.8491360724891,-0.382551005090982,0.786689879640997,-1.2216418846443,-0.0616187340470501,3.28360634677216,-0.438467503650293,-1.15944421402711,-2.25351795437265,0.649420425503079,2.30240588825052,6.82867995531547,3.30369126206972,0.22952438512866,-1.87839494759802,-0.411100104119945,-2.8835986905216,-0.841079061090912,5.18388991870738,-2.60890823387622,2.72828745465851,-0.432383864894016,-2.05753443992111,0.565650581514306,0.335527779742277,1.63531239550642,-2.06922521647649,-2.38195373163828,-0.199279683162687],\"text\":[\".fittedPC1:  -1.05929088<br />.fittedPC2: -0.80426809<br />Title: All Employees, Temporary Help Services\",\".fittedPC1:  10.27772226<br />.fittedPC2:  7.15781779<br />Title: All Employees, Total Nonfarm\",\".fittedPC1:   1.93465823<br />.fittedPC2:  5.34054916<br />Title: Construction\",\".fittedPC1:  -2.51279094<br />.fittedPC2:  0.73748798<br />Title: Construction: Construction of Buildings\",\".fittedPC1:  -6.98429462<br />.fittedPC2:  5.86054593<br />Title: Construction: Heavy and Civil Engineering Construction\",\".fittedPC1:  -3.97562430<br />.fittedPC2:  1.31498356<br />Title: Construction: Nonresidential Building\",\".fittedPC1:  -4.81037437<br />.fittedPC2:  0.80814235<br />Title: Construction: Nonresidential Specialty Trade Contractors\",\".fittedPC1:  -2.05934540<br />.fittedPC2:  0.84740335<br />Title: Construction: Residential Building\",\".fittedPC1:  -2.87929428<br />.fittedPC2:  0.13909398<br />Title: Construction: Residential Specialty Trade Contractors\",\".fittedPC1:  -0.44244123<br />.fittedPC2:  2.10294844<br />Title: Construction: Specialty Trade Contractors\",\".fittedPC1:  -0.48630841<br />.fittedPC2: -2.00734454<br />Title: Durable Goods\",\".fittedPC1:   1.39542735<br />.fittedPC2: -2.97139527<br />Title: Durable Goods: Communications Equipment\",\".fittedPC1:   0.81985042<br />.fittedPC2: -2.37811804<br />Title: Durable Goods: Computer and Electronic Products\",\".fittedPC1:   1.21054613<br />.fittedPC2: -3.04025624<br />Title: Durable Goods: Computer and Peripheral Equipment\",\".fittedPC1:   1.08303474<br />.fittedPC2: -2.78902791<br />Title: Durable Goods: Electrical Equipment and Appliances\",\".fittedPC1:  -1.12835190<br />.fittedPC2: -2.39241337<br />Title: Durable Goods: Electronic Instruments\",\".fittedPC1:  -0.40644519<br />.fittedPC2: -2.67029322<br />Title: Durable Goods: Fabricated Metal Products\",\".fittedPC1:   1.04015138<br />.fittedPC2: -2.56201694<br />Title: Durable Goods: Furniture and Related Products\",\".fittedPC1:   0.52040517<br />.fittedPC2: -2.76529760<br />Title: Durable Goods: Machinery\",\".fittedPC1:  -0.29632941<br />.fittedPC2: -2.02988179<br />Title: Durable Goods: Motor Vehicles and Parts\",\".fittedPC1:  -0.56401526<br />.fittedPC2:  2.18710840<br />Title: Durable Goods: Nonmetallic Mineral Products\",\".fittedPC1:   1.20261445<br />.fittedPC2: -2.87249100<br />Title: Durable Goods: Primary Metals\",\".fittedPC1:   0.87956820<br />.fittedPC2: -2.30680064<br />Title: Durable Goods: Semiconductors and Electronic Components\",\".fittedPC1:  -0.16529510<br />.fittedPC2: -2.04822506<br />Title: Durable Goods: Transportation Equipment\",\".fittedPC1:   0.04474450<br />.fittedPC2: -0.89513006<br />Title: Durable Goods: Wood Products\",\".fittedPC1:   7.48939875<br />.fittedPC2:  2.87598978<br />Title: Education and Health Services\",\".fittedPC1:   1.84058246<br />.fittedPC2: -2.32382667<br />Title: Education and Health Services: Ambulatory Health Care Services\",\".fittedPC1:   0.70531785<br />.fittedPC2:  0.44539744<br />Title: Education and Health Services: Child Day Care Services\",\".fittedPC1:  -1.04783204<br />.fittedPC2:  3.57639009<br />Title: Education and Health Services: Educational Services\",\".fittedPC1:   1.74804131<br />.fittedPC2: -2.20434623<br />Title: Education and Health Services: Health Care\",\".fittedPC1:   1.93892948<br />.fittedPC2: -2.23975277<br />Title: Education and Health Services: Health Care and Social Assistance\",\".fittedPC1:   2.06118933<br />.fittedPC2: -2.35830550<br />Title: Education and Health Services: Home Health Care Services\",\".fittedPC1:   1.39787388<br />.fittedPC2: -1.79879669<br />Title: Education and Health Services: Hospitals\",\".fittedPC1:   0.51835247<br />.fittedPC2: -1.56582334<br />Title: Education and Health Services: Nursing and Residential Care Facilities\",\".fittedPC1:  -0.46356346<br />.fittedPC2: -1.45533790<br />Title: Education and Health Services: Nursing Care Facilities\",\".fittedPC1:   3.07442721<br />.fittedPC2: -1.31388191<br />Title: Education and Health Services: offices of Physicians\",\".fittedPC1:   2.43682957<br />.fittedPC2: -3.45696687<br />Title: Education and Health Services: Outpatient Care Centers\",\".fittedPC1:   2.04707975<br />.fittedPC2: -1.93362265<br />Title: Education and Health Services: Social Assistance\",\".fittedPC1:   5.03186808<br />.fittedPC2:  3.08099594<br />Title: Financial Activities\",\".fittedPC1:  -4.51165170<br />.fittedPC2: -0.10524907<br />Title: Financial Activities: Commercial Banking\",\".fittedPC1:  -0.10638374<br />.fittedPC2: -1.71810735<br />Title: Financial Activities: Credit Intermediation and Related Activities\",\".fittedPC1:  -3.54183612<br />.fittedPC2: -1.00624576<br />Title: Financial Activities: Depository Credit Intermediation\",\".fittedPC1:   0.06363806<br />.fittedPC2: -1.22420926<br />Title: Financial Activities: Finance and Insurance\",\".fittedPC1:   0.55690588<br />.fittedPC2: -3.22832191<br />Title: Financial Activities: Insurance Carriers and Related Activities\",\".fittedPC1:  -0.35655956<br />.fittedPC2: -2.64196469<br />Title: Financial Activities: Lessors of Nonfinancial Intangible Assets\",\".fittedPC1:   0.06223072<br />.fittedPC2: -2.22121957<br />Title: Financial Activities: Monetary Authorities - Central Bank\",\".fittedPC1:  -0.26478604<br />.fittedPC2: -0.39085043<br />Title: Financial Activities: Real Estate\",\".fittedPC1:  -0.90986139<br />.fittedPC2: -0.34696270<br />Title: Financial Activities: Real Estate and Rental and Leasing\",\".fittedPC1:  -1.83708544<br />.fittedPC2: -0.72482290<br />Title: Financial Activities: Rental and Leasing Services\",\".fittedPC1:   0.51914415<br />.fittedPC2: -2.17726286<br />Title: Financial Activities: Securities, Commodity Contracts, Investments\",\".fittedPC1:   0.15357141<br />.fittedPC2:  2.30696428<br />Title: Goods-Producing\",\".fittedPC1:   3.05276125<br />.fittedPC2:  5.08396716<br />Title: Government\",\".fittedPC1:  -1.86638560<br />.fittedPC2:  0.08440839<br />Title: Government: Federal\",\".fittedPC1:  -2.02807060<br />.fittedPC2: -1.71318154<br />Title: Government: Federal, Except U.S. Postal Service\",\".fittedPC1:   2.15338306<br />.fittedPC2:  4.33520488<br />Title: Government: Local Government\",\".fittedPC1:   1.37564686<br />.fittedPC2:  6.35175373<br />Title: Government: Local Government Education\",\".fittedPC1:   1.76716402<br />.fittedPC2:  3.58670489<br />Title: Government: Local Government, Excluding Education\",\".fittedPC1:   2.26766800<br />.fittedPC2:  5.18313445<br />Title: Government: State Government\",\".fittedPC1:   1.61368383<br />.fittedPC2:  6.84521753<br />Title: Government: State Government Education\",\".fittedPC1:   1.40573350<br />.fittedPC2:  1.68734730<br />Title: Government: State Government, Excluding Education\",\".fittedPC1:  -3.88930306<br />.fittedPC2:  5.00931437<br />Title: Government: U.S. Postal Service\",\".fittedPC1:   4.00003146<br />.fittedPC2:  0.46487386<br />Title: Information\",\".fittedPC1:   0.56471145<br />.fittedPC2: -3.32007878<br />Title: Information: Broadcasting, Except Internet\",\".fittedPC1:   0.47857617<br />.fittedPC2: -2.63608088<br />Title: Information: Data Processing, Hosting and Related Services\",\".fittedPC1:  -3.63792379<br />.fittedPC2: -1.55023267<br />Title: Information: Motion Picture and Sound Recording Industries\",\".fittedPC1:   2.03850920<br />.fittedPC2: -3.02485401<br />Title: Information: Other Information Services\",\".fittedPC1:   1.00271093<br />.fittedPC2: -2.33641622<br />Title: Information: Publishing Industries, Except Internet\",\".fittedPC1:   0.90077955<br />.fittedPC2: -3.06898694<br />Title: Information: Telecommunications\",\".fittedPC1:   6.38354428<br />.fittedPC2:  2.86054480<br />Title: Leisure and Hospitality\",\".fittedPC1:  -0.11740150<br />.fittedPC2:  1.79940544<br />Title: Leisure and Hospitality: Accommodation\",\".fittedPC1:   0.13937701<br />.fittedPC2: -0.60008774<br />Title: Leisure and Hospitality: Accommodation and Food Services\",\".fittedPC1:  -5.29432544<br />.fittedPC2:  3.20718278<br />Title: Leisure and Hospitality: Amusements, Gambling, and Recreation\",\".fittedPC1:  -4.67964336<br />.fittedPC2:  2.72762302<br />Title: Leisure and Hospitality: Arts, Entertainment, and Recreation\",\".fittedPC1:   0.54983660<br />.fittedPC2: -0.97492191<br />Title: Leisure and Hospitality: Food Services and Drinking Places\",\".fittedPC1:  -1.44307772<br />.fittedPC2:  1.08766063<br />Title: Leisure and Hospitality: Museums, Historical Sites, Zoos, and Parks\",\".fittedPC1:  -4.07575630<br />.fittedPC2:  0.74261010<br />Title: Leisure and Hospitality: Performing Arts and Spectator Sports\",\".fittedPC1:   0.44804600<br />.fittedPC2: -2.12306333<br />Title: Manufacturing\",\".fittedPC1:  -0.29691799<br />.fittedPC2: -0.44672337<br />Title: Mining and Logging\",\".fittedPC1:   1.03441752<br />.fittedPC2: -3.28219522<br />Title: Mining and Logging: Coal Mining\",\".fittedPC1:  -4.18730164<br />.fittedPC2:  2.67951048<br />Title: Mining and Logging: Logging\",\".fittedPC1:   0.10928840<br />.fittedPC2: -1.65876211<br />Title: Mining and Logging: Mining\",\".fittedPC1:  -1.67260690<br />.fittedPC2:  0.10726436<br />Title: Mining and Logging: Mining, Except Oil and Gas\",\".fittedPC1:   0.10901609<br />.fittedPC2: -1.46247412<br />Title: Mining and Logging: Oil and Gas Extraction\",\".fittedPC1:   0.36335511<br />.fittedPC2: -1.45738234<br />Title: Mining and Logging: Support Activities for Mining\",\".fittedPC1:   0.44376368<br />.fittedPC2: -1.99304106<br />Title: Miscellaneous Durable Goods Manufacturing\",\".fittedPC1:   0.92277492<br />.fittedPC2:  0.30196481<br />Title: Nondurable Goods\",\".fittedPC1:   1.55421039<br />.fittedPC2: -1.01605594<br />Title: Nondurable Goods: Apparel\",\".fittedPC1:   0.88870631<br />.fittedPC2: -1.70326092<br />Title: Nondurable Goods: Chemicals\",\".fittedPC1:  -5.34981694<br />.fittedPC2:  2.14143448<br />Title: Nondurable Goods: Food Manufacturing\",\".fittedPC1:  -0.32547389<br />.fittedPC2: -0.82187937<br />Title: Nondurable Goods: Miscellaneous Nondurable Goods Manufacturing\",\".fittedPC1:   1.55653588<br />.fittedPC2: -1.67054228<br />Title: Nondurable Goods: Paper and Paper Products\",\".fittedPC1:  -1.17508975<br />.fittedPC2:  0.81744536<br />Title: Nondurable Goods: Petroleum and Coal Products\",\".fittedPC1:   0.81669568<br />.fittedPC2: -2.61547477<br />Title: Nondurable Goods: Plastics and Rubber Products\",\".fittedPC1:   1.85315817<br />.fittedPC2: -2.71858759<br />Title: Nondurable Goods: Printing and Related Support Activities\",\".fittedPC1:   2.25211652<br />.fittedPC2: -2.84442224<br />Title: Nondurable Goods: Textile Mills\",\".fittedPC1:   1.60221577<br />.fittedPC2: -2.48292354<br />Title: Nondurable Goods: Textile Product Mills\",\".fittedPC1:   6.40662337<br />.fittedPC2:  1.65198224<br />Title: Other Services\",\".fittedPC1:  -0.16837086<br />.fittedPC2: -0.36510290<br />Title: Other Services: Membership Associations and Organizations\",\".fittedPC1:  -6.09873538<br />.fittedPC2: -0.06554823<br />Title: Other Services: Personal and Laundry Services\",\".fittedPC1:   0.24866186<br />.fittedPC2: -2.23398510<br />Title: Other Services: Repair and Maintenance\",\".fittedPC1:  10.03755113<br />.fittedPC2:  5.44431713<br />Title: Private Service-Providing\",\".fittedPC1:   6.86813889<br />.fittedPC2:  2.89240434<br />Title: Professional and Business Services\",\".fittedPC1:  -4.39496150<br />.fittedPC2:  2.81421247<br />Title: Professional and Business Services: Accounting and Bookkeeping Services\",\".fittedPC1:  -0.63249784<br />.fittedPC2: -0.02117751<br />Title: Professional and Business Services: Administrative and Support Services\",\".fittedPC1:  -0.56337257<br />.fittedPC2: -0.04430810<br />Title: Professional and Business Services: Administrative and Waste Services\",\".fittedPC1:   0.05790220<br />.fittedPC2: -0.34677374<br />Title: Professional and Business Services: Architectural and Engineering Services\",\".fittedPC1:   0.12861949<br />.fittedPC2: -0.77591458<br />Title: Professional and Business Services: Business Support Services\",\".fittedPC1:   1.38725827<br />.fittedPC2: -2.12613838<br />Title: Professional and Business Services: Computer Systems Design and Related Services\",\".fittedPC1:   0.04463561<br />.fittedPC2: -0.51081948<br />Title: Professional and Business Services: Employment Services\",\".fittedPC1:  -0.45268271<br />.fittedPC2:  0.10619556<br />Title: Professional and Business Services: Legal Services\",\".fittedPC1:   1.96853708<br />.fittedPC2: -2.00393409<br />Title: Professional and Business Services: Management and Technical Consulting Services\",\".fittedPC1:   1.21628019<br />.fittedPC2: -1.27492531<br />Title: Professional and Business Services: Management of Companies and Enterprises\",\".fittedPC1:   1.42008555<br />.fittedPC2: -1.10245207<br />Title: Professional and Business Services: Professional and Technical Services\",\".fittedPC1:  -2.23315803<br />.fittedPC2:  3.33057500<br />Title: Professional and Business Services: Services to Buildings and Dwellings\",\".fittedPC1:   0.26254165<br />.fittedPC2: -0.35769246<br />Title: Professional and Business Services: Waste Management and Remediation Services\",\".fittedPC1:   4.45999770<br />.fittedPC2:  3.68090783<br />Title: Retail Trade\",\".fittedPC1:   2.21503216<br />.fittedPC2: -1.48440653<br />Title: Retail Trade: Automobile Dealers\",\".fittedPC1:  -2.09490913<br />.fittedPC2:  2.22817666<br />Title: Retail Trade: Building Material and Garden Supply Stores\",\".fittedPC1: -11.24828675<br />.fittedPC2:  2.76735857<br />Title: Retail Trade: Clothing and Clothing Accessories Stores\",\".fittedPC1:  -5.45326190<br />.fittedPC2:  3.84913607<br />Title: Retail Trade: Department Stores (DISCONTINUED)\",\".fittedPC1:  -2.39169052<br />.fittedPC2: -0.38255101<br />Title: Retail Trade: Electronics and Appliance Stores\",\".fittedPC1:  -1.80135483<br />.fittedPC2:  0.78668988<br />Title: Retail Trade: Food and Beverage Stores\",\".fittedPC1:  -3.51597231<br />.fittedPC2: -1.22164188<br />Title: Retail Trade: Furniture and Home Furnishings Stores\",\".fittedPC1:  -1.89694637<br />.fittedPC2: -0.06161873<br />Title: Retail Trade: Gasoline Stations\",\".fittedPC1:  -4.14204473<br />.fittedPC2:  3.28360635<br />Title: Retail Trade: General Merchandise Stores\",\".fittedPC1:   0.01909706<br />.fittedPC2: -0.43846750<br />Title: Retail Trade: Health and Personal Care Stores\",\".fittedPC1:  -2.61366376<br />.fittedPC2: -1.15944421<br />Title: Retail Trade: Miscellaneous Store Retailers\",\".fittedPC1:  -0.02303697<br />.fittedPC2: -2.25351795<br />Title: Retail Trade: Motor Vehicle and Parts Dealers\",\".fittedPC1:  -2.23223684<br />.fittedPC2:  0.64942043<br />Title: Retail Trade: Nonstore Retailers\",\".fittedPC1:  -6.50349372<br />.fittedPC2:  2.30240589<br />Title: Retail Trade: Sporting Goods, Hobby, Book, and Music Stores\",\".fittedPC1:   9.69471898<br />.fittedPC2:  6.82867996<br />Title: Total Private\",\".fittedPC1:   4.54304302<br />.fittedPC2:  3.30369126<br />Title: Trade, Transportation, and Utilities\",\".fittedPC1:   2.23698156<br />.fittedPC2:  0.22952439<br />Title: Transportation and Warehousing\",\".fittedPC1:  -1.32783205<br />.fittedPC2: -1.87839495<br />Title: Transportation and Warehousing: Air Transportation\",\".fittedPC1:  -2.21511118<br />.fittedPC2: -0.41110010<br />Title: Transportation and Warehousing: Couriers and Messengers\",\".fittedPC1:   0.27193590<br />.fittedPC2: -2.88359869<br />Title: Transportation and Warehousing: Pipeline Transportation\",\".fittedPC1:   3.79020063<br />.fittedPC2: -0.84107906<br />Title: Transportation and Warehousing: Rail Transportation\",\".fittedPC1:  -7.85842729<br />.fittedPC2:  5.18388992<br />Title: Transportation and Warehousing: Scenic and Sightseeing Transportation\",\".fittedPC1:   1.15679773<br />.fittedPC2: -2.60890823<br />Title: Transportation and Warehousing: Support Activities for Transportation\",\".fittedPC1:  -4.54904100<br />.fittedPC2:  2.72828745<br />Title: Transportation and Warehousing: Transit and Ground Passenger Transportation\",\".fittedPC1:  -1.31912350<br />.fittedPC2: -0.43238386<br />Title: Transportation and Warehousing: Truck Transportation\",\".fittedPC1:   2.23354411<br />.fittedPC2: -2.05753444<br />Title: Transportation and Warehousing: Warehousing and Storage\",\".fittedPC1:  -2.27814860<br />.fittedPC2:  0.56565058<br />Title: Transportation and Warehousing: Water Transportation\",\".fittedPC1:   0.14622845<br />.fittedPC2:  0.33552778<br />Title: Utilities\",\".fittedPC1:   4.32460031<br />.fittedPC2:  1.63531240<br />Title: Wholesale Trade\",\".fittedPC1:  -1.22459733<br />.fittedPC2: -2.06922522<br />Title: Wholesale Trade: Durable Goods\",\".fittedPC1:   1.60090760<br />.fittedPC2: -2.38195373<br />Title: Wholesale Trade: Electronic Markets and Agents and Brokers\",\".fittedPC1:  -2.36062837<br />.fittedPC2: -0.19927968<br />Title: Wholesale Trade: Nondurable Goods\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,0,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.2283105022831,\"r\":7.30593607305936,\"b\":40.1826484018265,\"l\":37.2602739726027},\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-12.3245871999481,11.3540227086814],\"tickmode\":\"array\",\"ticktext\":[\"-10\",\"-5\",\"0\",\"5\",\"10\"],\"tickvals\":[-10,-5,1.77635683940025e-15,5,10],\"categoryorder\":\"array\",\"categoryarray\":[\"-10\",\"-5\",\"0\",\"5\",\"10\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\".fittedPC1\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-3.98770610567943,7.68855702209918],\"tickmode\":\"array\",\"ticktext\":[\"-2\",\"0\",\"2\",\"4\",\"6\"],\"tickvals\":[-2,-4.44089209850063e-16,2,4,6],\"categoryorder\":\"array\",\"categoryarray\":[\"-2\",\"0\",\"2\",\"4\",\"6\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\".fittedPC2\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"8c6756ba2084\":{\"x\":{},\"y\":{},\"label\":{},\"type\":\"scatter\"}},\"cur_data\":\"8c6756ba2084\",\"visdat\":{\"8c6756ba2084\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nThe common question exposed by principal components is expressed here.  What are these components actually measuring?  That is largely unknown except that the first principal component is the strongest axis of differentiation for the data.  But what features are included in it?  That is `black box`ed.\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.10.0/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.5.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}